{"version":3,"file":"Img.js","sources":["../jsSrc/Img.js"],"sourcesContent":["import React from 'react';\nimport useImage from './useImage';\nimport imagePromiseFactory from './imagePromiseFactory';\nconst passthroughContainer = (x) => x;\nexport default function Img({ decode = true, src: srcList = [], loader = null, unloader = null, container = passthroughContainer, loaderContainer = passthroughContainer, unloaderContainer = passthroughContainer, imgPromise, crossorigin, useSuspense = false, ...imgProps // anything else will be passed to the <img> element\n }) {\n    imgPromise =\n        imgPromise || imagePromiseFactory({ decode, crossOrigin: crossorigin });\n    const { src, isLoading } = useImage({\n        srcList,\n        imgPromise,\n        useSuspense,\n    });\n    // console.log({src, isLoading, resolvedSrc, useSuspense})\n    // show img if loaded\n    if (src)\n        return container(React.createElement(\"img\", Object.assign({ src: src }, imgProps)));\n    // show loader if we have one and were still trying to load image\n    if (!useSuspense && isLoading)\n        return loaderContainer(loader);\n    // show unloader if we have one and we have no more work to do\n    if (!useSuspense && unloader)\n        return unloaderContainer(unloader);\n    return null;\n}\n//# sourceMappingURL=Img.js.map"],"names":["imagePromiseFactory","useImage","React"],"mappings":";;;;;;;;;;;;AAsBA,IAAM,oBAAoB,GAAG,SAAvB,oBAAuB,CAAC,CAAD;AAAA,SAAO,CAAP;AAAA,CAA7B;;AAEc,SAAU,GAAV,OAYH;AAAA,yBAXT,MAWS;AAAA,MAXT,MAWS,4BAXA,IAWA;AAAA,sBAVT,GAUS;AAAA,MAVJ,OAUI,yBAVM,EAUN;AAAA,yBATT,MASS;AAAA,MATT,MASS,4BATA,IASA;AAAA,2BART,QAQS;AAAA,MART,QAQS,8BARE,IAQF;AAAA,4BAPT,SAOS;AAAA,MAPT,SAOS,+BAPG,oBAOH;AAAA,kCANT,eAMS;AAAA,MANT,eAMS,qCANS,oBAMT;AAAA,mCALT,iBAKS;AAAA,MALT,iBAKS,sCALW,oBAKX;AAAA,MAJT,UAIS,QAJT,UAIS;AAAA,MAHT,WAGS,QAHT,WAGS;AAAA,8BAFT,WAES;AAAA,MAFT,WAES,iCAFK,KAEL;AAAA,MADN,QACM;;AACT,EAAA,UAAU,GACR,UAAU,IAAIA,4BAAmB,CAAC;AAAC,IAAA,MAAM,EAAN,MAAD;AAAS,IAAA,WAAW,EAAE;AAAtB,GAAD,CADnC;;AADS,kBAGgBC,iBAAQ,CAAC;AAChC,IAAA,OAAO,EAAP,OADgC;AAEhC,IAAA,UAAU,EAAV,UAFgC;AAGhC,IAAA,WAAW,EAAX;AAHgC,GAAD,CAHxB;AAAA,MAGF,GAHE,aAGF,GAHE;AAAA,MAGG,SAHH,aAGG,SAHH;AAWT;;;AACA,MAAI,GAAJ,EAAS,OAAO,SAAS,eAACC,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA,MAAA,CAAA,MAAA,CAAA;AAAK,IAAA,GAAG,EAAE;AAAV,GAAA,EAAmB,QAAnB,CAAA,CAAD,CAAhB,CAZA;;AAeT,MAAI,CAAC,WAAD,IAAgB,SAApB,EAA+B,OAAO,eAAe,CAAC,MAAD,CAAtB,CAftB;;AAkBT,MAAI,CAAC,WAAD,IAAgB,QAApB,EAA8B,OAAO,iBAAiB,CAAC,QAAD,CAAxB;AAE9B,SAAO,IAAP;AACD;;;;"}